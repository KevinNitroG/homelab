---
admin:
  existingSecret: grafana-admin
env:
  GF_DATE_FORMATS_USE_BROWSER_LOCALE: true
persistence:
  enabled: true
  size: 2Gi
annotations:
  reloader.stakater.com/auto: "true"
sidecar:
  dashboards:
    enabled: true
    labelValue: "1"
    searchNamespace: ALL
    folderAnnotation: grafana_folder
    provider:
      foldersFromFilesStructure: true
  datasources:
    enabled: true
    labelValue: "1"
    searchNamespace: ALL
  alert:
    enabled: true
    labelValue: "1"
    searchNamespace: ALL
dashboards:
  default:
    node-exporter-full:
      # renovate: depName="Node Exporter Full"
      gnetId: 1860
      revision: 41
      datasource: Prometheus
    cloudflared:
      # renovate: depName="Cloudflare Tunnels (cloudflared)"
      gnetId: 17457
      revision: 6
      datasource: Prometheus
    lokiStack:
      # renovate: depName="Loki stack monitoring (Promtail, Loki)"
      gnetId: 14055
      revision: 5
      datasource: Loki
  flux:
    flux-cluster:
      url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/cluster.json
      datasource: Prometheus
    flux-control-plane:
      url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/control-plane.json
      datasource: Prometheus
    flux-logs:
      url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/logs.json
      datasource: Loki
  istio:
    extesions:
      url: https://storage.googleapis.com/istio-release/releases/1.27.1/grafana/istio-extension-dashboard.json
      datasource: Prometheus
    mesh:
      url: https://storage.googleapis.com/istio-release/releases/1.27.1/grafana/istio-mesh-dashboard.json
      datasource: Prometheus
    performance:
      url: https://storage.googleapis.com/istio-release/releases/1.27.1/grafana/istio-performance-dashboard.json
      datasource: Prometheus
    service:
      url: https://storage.googleapis.com/istio-release/releases/1.27.1/grafana/istio-service-dashboard.json
      datasource: Prometheus
    workload:
      url: https://storage.googleapis.com/istio-release/releases/1.27.1/grafana/istio-workload-dashboard.json
      datasource: Prometheus
    pilot:
      url: https://storage.googleapis.com/istio-release/releases/1.27.1/grafana/pilot-dashboard.json
      datasource: Prometheus
    ztunnel:
      url: https://storage.googleapis.com/istio-release/releases/1.27.1/grafana/ztunnel-dashboard.json
      datasource: Prometheus
  programming:
    go:
      # renovate: depName="Go Metrics"
      gnetId: 10826
      revision: 2
      datasource: Prometheus
    nodejs:
      # renovate: depName="Nodejs Metrics"
      gnetId: 11956
      revision: 1
      datasource: Prometheus
  minio:
    server:
      # renovate: depName="MinIO Dashboard"
      gnetId: 13502
      revision: 26
      datasource: Prometheus
    bucket:
      # renovate: depName="MinIO Bucket Dashboard"
      gnetId: 19237
      revision: 2
      datasource: Prometheus
    node:
      url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/node/minio-node.json
      datasource: Prometheus
    replication:
      # renovate: depName="MinIO Replication Dashboard"
      gnetId: 15305
      revision: 5
      datasource: Prometheus
dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
      - name: default
        options:
          path: /var/lib/grafana/dashboards/default
      - name: flux
        folder: Flux
        options:
          path: /var/lib/grafana/dashboards/flux
      - name: kubernetes
        folder: Kubernetes
        options:
          path: /var/lib/grafana/dashboards/kubernetes
      - name: istio
        folder: Istio
        options:
          path: /var/lib/grafana/dashboards/istio
      - name: programming
        folder: Programming
        options:
          path: /var/lib/grafana/dashboards/programming
      - name: minio
        folder: MinIO
        options:
          path: /var/lib/grafana/dashboards/minio
resources:
  limits:
    cpu: 200m
  requests:
    cpu: 10m
