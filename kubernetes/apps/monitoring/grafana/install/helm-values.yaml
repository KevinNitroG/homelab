---
admin:
  existingSecret: grafana-admin
env:
  GF_DATE_FORMATS_USE_BROWSER_LOCALE: true
persistence:
  enabled: true
  size: 2Gi
annotations:
  reloader.stakater.com/auto: "true"
sidecar:
  dashboards:
    enabled: true
    label: grafana_dashboard
    labelValue: "1"
    searchNamespace: ALL
    provider:
      disableDelete: true
      foldersFromFilesStructure: true
  datasources:
    enabled: true
    labelValue: "1"
    searchNamespace: ALL
  alert:
    enabled: true
    labelValue: "1"
    searchNamespace: ALL
dashboards:
  default:
    node-exporter-full:
      # renovate: depName="Node Exporter Full"
      gnetId: 1860
      revision: 41
      datasource: Prometheus
    cloudflared:
      # renovate: depName="Cloudflare Tunnels (cloudflared)"
      gnetId: 17457
      revision: 6
      datasource: Prometheus
    lokiStack:
      # renovate: depName="Loki stack monitoring (Promtail, Loki)"
      gnetId: 14055
      revision: 6
      datasource: Loki
    flux:
      flux-cluster:
        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/cluster.json
        datasource: Prometheus
      flux-control-plane:
        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/control-plane.json
        datasource: Prometheus
      flux-logs:
        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/logs.json
        datasource: Loki
dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
      - name: default
        orgId: 1
        folder: ""
        type: file
        disableDeletion: false
        editable: true
        options:
          path: /var/lib/grafana/dashboards/default
